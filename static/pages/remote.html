<style>
    .navigation-cross {
        min-width: 200px;
        min-height: 200px;
    }

    .navigation-cross .btn {
        width: 50px;
        height: 50px;
        margin: 5px;
    }

    .tooltip.left {
        padding: 0 5px;
        margin-left: -3px;
    }
</style>
<!-- TODO: display overlay while no host is connected -->
<div style="position: absolute; left: 4px; top: 4px;" id="settings" ng-click="openSettings()">
    <i class="fa fa-cog fa-2x" aria-hidden="true"></i>
</div>
<div class="centered">
    <div id="controls-container">
        <div id="btn-controls" ng-show="settings.navigationType=='button'">
            <div class="center-block text-center navigation-cross">
                <div>
                    <button class="btn-control btn" id="btn-control-up" data-keycode="38" ng-disabled="!session.initialized" ng-click="sendControl(38)">
                        <i class="fa fa-arrow-up" aria-hidden="true"></i>
                    </button>
                </div>
                <div>
                    <button class="btn-control btn" id="btn-control-left" data-keycode="37" ng-disabled="!session.initialized" ng-click="sendControl(37)">
                        <i class="fa fa-arrow-left" aria-hidden="true"></i>
                    </button>
                    <!--<button class="btn-control btn" id="btn-control-space" data-keycode="32" ng-disabled="!session.initialized" ng-click="sendControl(32)">-->
                    <!--<i class="fa fa-circle" aria-hidden="true"></i>-->
                    <!--</button>-->
                    <button class="btn-control btn" id="btn-control-laser" data-keycode="32" ng-disabled="!session.initialized" ng-click="deviceOrientation.sendData()" ng-style="deviceOrientation.laserActive && {'color':settings.laserStyle.color}">
                        <i class="fa fa-circle" aria-hidden="true"></i>
                    </button>
                    <button class="btn-control btn" id="btn-control-right" data-keycode="39" ng-disabled="!session.initialized" ng-click="sendControl(39)">
                        <i class="fa fa-arrow-right" aria-hidden="true"></i>
                    </button>
                </div>
                <div>
                    <button class="btn-control btn" id="btn-control-down" data-keycode="40" ng-disabled="!session.initialized" ng-click="sendControl(40)">
                        <i class="fa fa-arrow-down" aria-hidden="true"></i>
                    </button>
                </div>
            </div>

            <!--<br/>-->
            <!--<button class="btn-control btn" id="btn-control-pgup" data-keycode="33" ng-disabled="!session.initialized" ng-click="sendControl(33)">-->
            <!--Page Up-->
            <!--</button>-->
            <!--<button class="btn-control btn" id="btn-control-pgdown" data-keycode="34" ng-disabled="!session.initialized" ng-click="sendControl(34)">-->
            <!--Page Down-->
            <!--</button>-->

            <!--<br/>-->
            <!--<button class="btn-control btn" id="btn-control-zoomin" data-keycode="33" ng-disabled="!session.initialized" ng-click="sendControl(107,{ctrl:true})">-->
            <!--Zoom in-->
            <!--</button>-->
            <!--<button class="btn-control btn" id="btn-control-zoomout" data-keycode="34" ng-disabled="!session.initialized" ng-click="sendControl(109,{ctrl:true})">-->
            <!--Zoom out-->
            <!--</button>-->

            <div>
                <strong>alpha</strong> (yaw)<br/> &nbsp;{{ deviceOrientation.lastAlpha }}<br/>
                <strong>beta</strong> (pitch)<br/> &nbsp;{{ deviceOrientation.lastBeta }}<br/>
                <strong>gamma</strong> (roll)<br/> &nbsp;{{ deviceOrientation.lastGamma }}<br/>
                <br/>
                <strong>yaw</strong><br/> &nbsp;{{ deviceOrientation.currentYaw }}<br/>
                <strong>pitch</strong><br/> &nbsp;{{ deviceOrientation.currentPitch }}<br/>
                <br/>
                <strong>center</strong><br/>
                &nbsp;{{ deviceOrientation.center.yaw }} [{{ deviceOrientation.range.yaw }}]<br/>
                &nbsp;{{ deviceOrientation.center.pitch }} [{{ deviceOrientation.range.pitch }}]
            </div>
        </div>

        <div id="swipe-controls" ng-show="settings.navigationType=='swipe'">
            Swipe or tap to navigate
        </div>
    </div>
</div>

<div id="settingsModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><!-- TODO: call settings.save() on close -->
                <h5 class="modal-title">Settings</h5>
            </div>

            <div class="modal-body">
                <div>
                    <div>
                        <h3>General</h3>
                        <div class="form-group">
                            <div>
                                <label for="navigationTypeButtons">Navigation Method</label>
                            </div>
                            <div class="btn-group" id="navigationTypeButtons">
                                <button class="btn controls-toggle" id="controls-toggle-buttons" ng-click="settings.put('navigationType','button')" ng-class="{'btn-success':settings.navigationType=='button'}">Buttons</button>
                                <button class="btn controls-toggle" id="controls-toggle-swipe" ng-click="settings.put('navigationType','swipe')" ng-class="{'btn-success':settings.navigationType=='swipe'}">Swipe</button>
                            </div>
                        </div>
                        <div>
                            <div class="checkbox">
                                <label>
                                    <input id="controls-vibration" type="checkbox" ng-model="settings.vibration" ng-change="settings.save()">
                                    Vibration
                                </label>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h3>Laser Pointer</h3>
                        <div>
                            <button class="btn" ng-class="{'btn-success':deviceOrientation.calibration.active, 'btn-primary':!deviceOrientation.calibration.active}" ng-click="deviceOrientation.calibration.toggleCalibration()">{{ deviceOrientation.calibration.active ? "Calibration active! Tap to stop" : "Start Laser Calibration" }}</button>
                            <!--<span class="help-block">Point your phone at the screen and tap the button above</span>-->
                        </div>
                        <div>
                            <label for="laser-style-color">
                                Color
                                <input type="text" class="form-control" id="laser-style-color" ng-model="settings.laserStyle.color" ng-change="settings.save();sendLaserStyle()" ng-style="{'background-color':settings.laserStyle.color}">
                            </label>
                        </div>
                        <div>
                            <label for="laser-style-size">
                                Size
                                <input type="number" class="form-control" id="laser-style-size" ng-model="settings.laserStyle['font-size']" ng-change="settings.save();sendLaserStyle()">
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>